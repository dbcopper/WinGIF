# Repository Guidelines

## Project Structure & Module Organization
- `crates/app/src` holds the main UI, tray integration, and state machine.
- `crates/overlay/src` implements the selection overlay, screenshot display, and rendering logic.
- `crates/capture_wgc/src` contains Windows Graphics Capture + D3D11 capture pipeline code.
- `crates/export/src` handles GIF/PNG export.
- `assets/` stores app assets like `icon.ico`.
- `target/` is generated by Cargo and should not be edited or committed.

## Build, Test, and Development Commands
Run from the repository root:
```cmd
cargo build --release   :: release build
cargo run --release     :: run the app from a release build
cargo test              :: run all tests
```
These are standard Cargo commands; use the same commands in PowerShell or cmd.exe.

## Coding Style & Naming Conventions
- Rust 2021 edition (workspace-level). Keep code formatted with `rustfmt` defaults.
- Indentation: 4 spaces; line endings: Windows CRLF is fine, but be consistent within a file.
- Naming: `snake_case` for modules/functions/vars, `PascalCase` for types, `SCREAMING_SNAKE_CASE` for constants.
- Keep Windows API interop localized to the relevant crate/module to avoid leaking platform details.

## Testing Guidelines
- No dedicated test folders are present yet. Add unit tests in `crates/*/src` with `#[cfg(test)]` or integration tests in `crates/<name>/tests`.
- Prefer tests around state transitions, capture boundaries, and export behaviors.
- Run `cargo test` before opening a PR.

## Commit & Pull Request Guidelines
- This checkout does not include a `.git` history, so no commit convention is established here.
- If you are setting the convention, keep messages short and imperative (e.g., `capture: fix frame resize`).
- PRs should include: a brief description, testing notes, and screenshots/GIFs for UI-visible changes.

## Security & Configuration Notes
- The app is Windows-only and depends on Windows 10 1903+ Graphics Capture APIs; keep platform checks in mind.
- Do not commit build artifacts (`target/`) or local environment files.
